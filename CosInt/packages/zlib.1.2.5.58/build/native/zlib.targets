<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <ItemDefinitionGroup>
        <ClCompile>
          <AdditionalIncludeDirectories>$(MSBuildThisFileDirectory)..\..\lib\native\include;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
          <PreprocessorDefinitions>HAS_ZLIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
        </ClCompile>
    </ItemDefinitionGroup>
    <ItemDefinitionGroup Condition="'$(Platform)'=='Win32'">
        <Link>
            <AdditionalDependencies>$(MSBuildThisFileDirectory)..\..\lib\native\lib\x86\zlib1.lib;%(AdditionalDependencies);</AdditionalDependencies>
        </Link>
    </ItemDefinitionGroup>
    <ItemDefinitionGroup Condition="'$(Platform)'=='x64'">
        <Link>
            <AdditionalDependencies>$(MSBuildThisFileDirectory)..\..\lib\native\lib\x64\zlib1.lib;%(AdditionalDependencies);</AdditionalDependencies>
        </Link>
  </ItemDefinitionGroup>
  
  <Target Name="AfterBuild" >
  
    <Copy Condition="'$(Platform)'=='Win32'"
        SourceFiles="$(MSBuildThisFileDirectory)..\..\lib\native\bin\x86\zlib1.dll" 
        DestinationFolder="$(TargetDir)" 
        SkipUnchangedFiles="true" />
    
    <Copy Condition="'$(Platform)'=='x64'"
        SourceFiles="$(MSBuildThisFileDirectory)..\..\lib\native\bin\x64\zlib1.dll" 
        DestinationFolder="$(TargetDir)" 
        SkipUnchangedFiles="true" />    
    </Target>
    
</Project>